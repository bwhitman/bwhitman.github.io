---
layout: post
title: "Tulip Creative Computer"
summary: A portable Python computer for making things 
date: "2023-02-14"
image: tulip-wide.jpg
---
<img src="/images/tulip-wide.jpg" class="big"/>
<p class="small">Tulip in action</p>

<div style="background-color: #cfc ; padding: 10px; border: 1px solid green;">
<P>Join the <a href="https://discord.gg/TzBFkUb8pG">shore pine sound systems' Discord</a>, where you can chat about Tulip, Alles and AMY!</P>
</div>

I want to tell the world about a very fun side project I've been working on this past year, on and off. My new startup (not this!) is starting to get busy -- I'll share more details about it soon -- and I know from experience I'll need to put down my soldering plate and copy of EAGLE for a while. I thought I should share where I got to and hope that others can take care of it and help me make it even better. 

[I built a computer meant for being creative, the Tulip Creative Computer](https://github.com/bwhitman/tulipcc/blob/main/README.md). It's a computer you can carry with you, with a keyboard, screen, and battery. When you turn it on, you see a Python prompt, immediately. The "OS" of the computer itself is Python. It's not running something else with a shell on top. You write and execute programs on the device itself. You have access to the entire hardware: a dual core 240MHz CPU with 8MB RAM, a 2D GPU with hardware sprites and scrolling bitmap planes, a 1024x600 color display with touchscreen, Wi-Fi, a 32-voice sound synthesizer, stereo audio, hardware MIDI in and out (with very precise timing!), 8 or 32MB of storage. 

<img src="/images/hinge.jpg"/>
<p class="centersmall">My custom Tulip with hinge, keyboard and integrated board and battery</p>

You can build a Tulip yourself. Even if you don't have a lot of electronics experience! There are three ways to build a Tulip, in order of stability: 
 * [with a breadboard and a lot of hookup wires (no soldering!)](https://github.com/bwhitman/tulipcc/blob/main/docs/tulip_breadboard.md) 
 * [with a small $10 breakout PCB and off the shelf boards](https://github.com/bwhitman/tulipcc/blob/main/docs/tulip_breakout.md) (through-hole soldering only)
 * a [fully integrated board, like a Raspberry Pi but with everything you need for Tulip already on it](https://github.com/bwhitman/tulipcc/blob/main/docs/tulip_board.md). 

 I meant Tulip to be a thing that anyone can put together, without spending a lot of money or having to learn complicated assembly techniques. You can take advantage of other cheap development boards to put together your own Tulip in no time. Or, if you're more interested in a 'real' PCB that can fit inside a custom case, check out our designs for a integrated board. 

<img src="/images/breadboard_display.jpg"/>
<p class="centersmall">A Tulip built with no soldering, on a breadboard</p>

But there's even an easier way to get started. When I was building the display core of Tulip, I found myself annoyed at the time to build and flash the hardware target chip. I decided to put together a "simulator" that booted the code underlying the Tulip OS and graphics and sound into a window on my desktop computer. This is now called [Tulip Desktop](https://github.com/bwhitman/tulipcc/blob/main/docs/tulip_desktop.md), and if you're put off by the hardware, definitely give this a go. It's got all of the same features and limitations as the hardware Tulip computer, running in a window on your computer. It's very handy to make changes to Tulip itself, or just to work on Tulip programs if you don't have access to the real thing. 

<a href="https://github.com/bwhitman/tulipcc/blob/main/docs/tulip_desktop.md"><img src="/images/editor.png" class="medium"/></a>
<p class="centersmall">The built in text editor running on <a href="https://github.com/bwhitman/tulipcc/blob/main/docs/tulip_desktop.md">Tulip Desktop</a></p>

Tulip comes with a built in text editor, and soon a music editor. If you connect to Wi-Fi you're able to join **T&nbsp;U&nbsp;L&nbsp;I&nbsp;P&nbsp;~&nbsp;W&nbsp;O&nbsp;R&nbsp;L&nbsp;D**, a Tulip-only chat room where you talk to other Tulip users and (soon) share what you've made! You can also use Python sockets and urllib to access network resources, as well as use Tulip as a controller for [an Alles synthesizer mesh.](https://notes.variogram.com/2022/09/23/alles-amy/) Instant surround sound! 

Tulip is for making things. I am sure many of you understand the draw of sitting at a device that just allows for creativity -- think a drum machine, or a modular synthesizer, or a typewriter. Something that's personal to you with everything you need built in. And something that's built only to do what it can do for you -- where it's impossible (or at least very hard!) to see a web page or a tweet, or get a text. It can be a great device to compose music, or write, or make video games or other creative software. 

I've really enjoyed working on and using Tulip. I love carrying my Tulip somewhere and coming back an hour later with a new song, or neat little game, or some writing. It's a pleasure to use and the limitations of the hardware really do set up your mind to be creative. 

<img src="/images/tiles.png" class="medium"/>
<p class="centersmall">Sprites and background tiles in the REPL on Tulip CC hardware</p>

Under the hood, Tulip is a (complicated!) "port" of the great [MicroPython](https://micropython.org) project running on the Espressif ESP32-S3 -- a cheap (and in stock!) MCU with 8 or 32MB flash storage and 8MB of SPI-attached RAM. It stands on the great work of ESP32 porters (namely ["loboris"](https://github.com/loboris/MicroPython_ESP32_psRAM_LoBo)) who were able to wire in the features of the microcontroller to the Python process. I was able to get the large display running at stable frame rates on one core of the the ESP32-S3 through the help of some Espressif people and their ESP-IDF toolchain. After that, most of the development time was spent getting a Python REPL drawn on screen and building out the features of the "GPU," editor, and sound system, (powered by DAn & my's [AMY](https://github.com/bwhitman/amy) synthesis engine.)

Working on Tulip itself has been a great joy. Putting pieces together from so much great scaffolding over the years of computer history to stand up a new kind of system is a particularly fun puzzle. From little things like [getting USB key repeat going](https://github.com/bwhitman/tulipcc/blob/main/ports/esp32s3/usb_keyboard.c#L303), or teaching myself how to solder those tiny FPC connectors, or constrained hardware challenges like [optimizing the pipeline for scanline-based character drawing](https://github.com/bwhitman/tulipcc/blob/main/extmod/tulip/display.c#L105), or [getting the ESP's GDMA to buffer from slower SPI RAM to draw from faster RAM in pieces to support a bigger display](https://github.com/bwhitman/tulipcc/blob/main/ports/esp32s3/components/bw_esp_lcd/src/esp_lcd_rgb_panel.c#L685). If this sort of stuff speaks to you, please come join us and make Tulip even better. 

Please try it out -- [get the macOS or Linux app](https://github.com/bwhitman/tulipcc/blob/main/docs/tulip_desktop.md) or [buy the parts to build your own](https://github.com/bwhitman/tulipcc/blob/main/docs/tulip_build.md) -- and I'd really welcome changes, new capabilities, and issues you're having. (Can someone make us a touchscreen sprite and tile editor for 2d games?) [I welcome issue or pull requests on GitHub](https://github.com/bwhitman/tulipcc/issues), and [my email for any other thoughts.](mailto:brian@variogram.com) See you on **T&nbsp;U&nbsp;L&nbsp;I&nbsp;P&nbsp;~&nbsp;W&nbsp;O&nbsp;R&nbsp;L&nbsp;D**, and have fun!

 * [Tulip GitHub repository](https://github.com/bwhitman/tulipcc)
 * [Tulip build instructions](https://github.com/bwhitman/tulipcc/blob/main/docs/tulip_build.md)
 * [Tulip API](https://github.com/bwhitman/tulipcc/blob/main/docs/tulip_api.md)
 * [Get Tulip Desktop for macOS or Linux (including WSL on Windows)](https://github.com/bwhitman/tulipcc/blob/main/docs/tulip_desktop.md)
 * [shore pine sound systems' Discord, where you can chat about Tulip, Alles and AMY!](https://discord.gg/TzBFkUb8pG)

-- 
Brooklyn NYC, February 2023


<p class='note'>Tulip would not be possible without the constant help and support from the group chat / soldering tip line of Dan Ellis and Douglas Repetto, and tons of help and early PCB designs by Matt Mets. Thanks also to all my friends who have heard nothing but Tulip status updates from me over the years.</p>

<img src="/images/breakout_outside.jpg" class="medium"/>
<p class="centersmall">Breakout board version of Tulip in the forest</p>






